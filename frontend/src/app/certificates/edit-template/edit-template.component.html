<div class="register-container">
  <h2 class="register-title">Edit Certificate Template</h2>
  <form [formGroup]="editTemplateForm" (ngSubmit)="onUpdate()">

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" placeholder="Enter template name">
      <mat-error *ngIf="editTemplateForm.get('name')?.hasError('required')">
        Name is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Issuer</mat-label>
      <input matInput formControlName="issuer" placeholder="Enter issuer name">
      <mat-error *ngIf="editTemplateForm.get('issuer')?.hasError('required')">
        Issuer is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Common Name Regex</mat-label>
      <input matInput formControlName="commonNameRegex" placeholder="e.g. .*\.example\.com">
      <mat-error *ngIf="editTemplateForm.get('commonNameRegex')?.hasError('required')">
        Common Name Regex is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>SAN Regex</mat-label>
      <input matInput formControlName="sanRegex" placeholder="e.g. .*">
      <mat-error *ngIf="editTemplateForm.get('sanRegex')?.hasError('required')">
        SAN Regex is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>TTL (Days)</mat-label>
      <input matInput type="number" formControlName="ttlDays" placeholder="Enter days to live">
      <mat-error *ngIf="editTemplateForm.get('ttlDays')?.hasError('required')">
        TTL is required
      </mat-error>
      <mat-error *ngIf="editTemplateForm.get('ttlDays')?.hasError('min')">
        TTL must be at least 1 day
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Key Usage</mat-label>
      <input matInput formControlName="keyUsage" placeholder="e.g. digitalSignature,keyEncipherment">
      <mat-error *ngIf="editTemplateForm.get('keyUsage')?.hasError('required')">
        Key Usage is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Extended Key Usage</mat-label>
      <input matInput formControlName="extendedKeyUsage" placeholder="e.g. serverAuth,clientAuth">
      <mat-error *ngIf="editTemplateForm.get('extendedKeyUsage')?.hasError('required')">
        Extended Key Usage is required
      </mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit" [disabled]="editTemplateForm.invalid">
      Save Template
    </button>
  </form>
</div>
